
	1. 项目回顾
		1). 整体项目
			业务需求、技术框架、业务数据、数据类型、集群规模等
		2). 开发任务
			数据采集同步 
			->  数仓分层及开发规范 
			-> ODS层：表及数据加载 
			-> 数仓开发流程  
			-> DIM层：表、数据加载（拉链表）

	2. 数仓开发
		1). DWD层
			表 -> 类型（区别）
			数据域 ->  有哪些表 -> 业务过程  ->  数据加载：ODS层哪些表关联
		2). DWS层
			为什么需要汇总  ->  汇总类型：最近1日、最近N日（7日、30日、本月至今）、历史至今
			粒度汇总 -> 每个汇总表：粒度 + 业务事实
			表的创建 + 数据加载
		3). ADS层
			指标需求 -> 划分主题：哪些主题？
			|
			各个主题指标，尤其复杂指标开发（二开指标）
				复购率、留存率、连续3日下单、漏斗分析
				查询用户的累计消费金额及VIP等级、查询首次下单后第二天连续下单的用户比率
				【每个主题指标：事实表、维度表】

	3. 数据导出
		使用Sqoop全量导出，采用插入更新模式

	4. 可视化报表
		Superset可视化报表展示，各个主题数据

	5. 任务全流程调度
		使用Azkaban任务调度：定时调度、依赖调度，
		由于虚拟机资源受限，演示调度：以APP日志数据处理整体全流程调度

	6. 数据质量
		定义规则，检验ODS、DWD、DIM层表的数据情况：数据量（同比、环比）、主键重复数和NULL值数、度量字段值范围
			Shell脚本，封装SQL，从Hive表查询，保存MySQL，最后Superset可视化，使用Azkaban调度执行

	7. 离线数仓性能优化
		1). 小文件处理
			DWS层、ADS层
			启用合并小文件功能
		2). count distinct
			计数-去重，数据量大时，性能问题，很慢很慢  -> 先 group by 分组，后count计数
			如何查看执行计划
				explain SELECT .....  ;
		3). 数据倾斜：group by
			三种方案
				map 端聚合、
				启用group by skew时优化（1个MR变成2个MR）、
				编写SQL：拆（倾斜和非倾斜，单独处理）、合（合并结果）
		4). 数据倾斜：join
			三种方案
				大表与小表：map join
				大表与大表：skew join
				大表与大表：打散 + 扩容 
		5). 大表和大表关联JOIN
			Bucket Map Join
			SMB Map JOIN
				【ste1. 创建表、step2. 加载数据、step3. 设置参数和关联JOIN】





